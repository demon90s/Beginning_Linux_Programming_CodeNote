# 第十三章 进程间通信：管道

---

## 什么是管道

当从一个进程连接数据流到另一个进程时，我们使用术语管道（ pipe ）。我们通常是把一个进程的输出通过管道连接到另一个进程的输入。

对于 shell 命令，命令的连接是通过管道字符来完成的，如：

```
cmd1 | cmd2
```

shell 负责安排两个命令的标准输入和标准输出：

- cmd1 的标准输入来自终端键盘

- cmd1 的标准输出传递给 cmd2 ，作为它的标准输入

- cmd2 的标准输出连接到终端屏幕

## 进程管道

最简单的在两个程序之间传递数据的方法是使用 popen 和 pclose 函数。

popen 打开一个子进程，返回一个文件流，通过文件流从子进程的标准输入读取数据，或向子进程的标准输出写数据。

[测试程序](../codes/lab/api/管道/popen_pclose.c)